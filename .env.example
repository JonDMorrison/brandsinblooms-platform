# Brands in Blooms Platform - Environment Configuration
# Copy this file to .env.local for development or use as reference for production

# =============================================================================
# CORE CONFIGURATION (Required)
# =============================================================================

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# Domain Configuration
NEXT_PUBLIC_APP_DOMAIN=localhost:3001
NEXT_PUBLIC_APP_URL=http://localhost:3001

# =============================================================================
# MULTI-DOMAIN SUPPORT (Optional)
# =============================================================================

# Additional allowed domains (comma-separated)
# ALLOWED_DOMAINS=example.com,another-domain.com

# =============================================================================
# CACHING CONFIGURATION (Optional)
# =============================================================================

# Redis Configuration
# REDIS_URL=redis://localhost:6379
# REDIS_HTTP_URL=https://your-redis-http-endpoint.com
# REDIS_TOKEN=your-redis-token

# Cache Settings
SITE_CACHE_TYPE=memory
SITE_CACHE_MAX_SIZE=1000

# =============================================================================
# SECURITY CONFIGURATION (Optional)
# =============================================================================

# CSRF Protection
CSRF_PROTECTION=false
CSRF_SECRET_KEY=dev-csrf-secret-key-for-local-development
CSRF_COOKIE_NAME=__Host-csrf-token
CSRF_HEADER_NAME=x-csrf-token

# CORS Configuration
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3001,http://127.0.0.1:3001

# Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Security Headers
SECURITY_HSTS=false
SECURITY_CSP=false
SECURITY_FRAME_OPTIONS=SAMEORIGIN
SECURITY_CONTENT_TYPE_OPTIONS=true

# =============================================================================
# ANALYTICS & MONITORING (Optional)
# =============================================================================

# Analytics
ANALYTICS_ENABLED=false
ANALYTICS_STORAGE_TYPE=memory
ANALYTICS_MAX_EVENTS=1000

# Monitoring (for production)
# MONITORING_EMAIL=alerts@yourdomain.com
# MONITORING_WEBHOOK=https://hooks.slack.com/your-webhook

# =============================================================================
# WEBHOOKS & API (Optional)
# =============================================================================

# Order Webhooks
ORDER_WEBHOOK_SECRET=your-webhook-secret

# Cron Jobs
CRON_SECRET=dev-cron-secret-key

# =============================================================================
# STORAGE CONFIGURATION (S3/CDN)
# =============================================================================

# Cloudflare R2 Configuration (Production)
R2_ACCOUNT_ID=your-cloudflare-r2-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=your-production-bucket-name

# MinIO Configuration (Development)
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_ENDPOINT=http://localhost:9000
MINIO_REGION=us-east-1
MINIO_BUCKET_NAME=local-images

# CDN Configuration
NEXT_PUBLIC_CDN_URL=http://localhost:9000

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=development

# Server Port (automatically set by hosting platforms)
# PORT=3000

# Next.js Configuration
NEXT_TELEMETRY_DISABLED=1

# Bundle Analysis (development only)
# ANALYZE=true

# =============================================================================
# TESTING CONFIGURATION (Test Environment Only)
# =============================================================================

# Test Database (for integration tests)
TEST_SUPABASE_URL=http://127.0.0.1:54321
TEST_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
TEST_SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# For production deployment, override these values:
#
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-production-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-production-service-role-key
# NEXT_PUBLIC_APP_DOMAIN=yourdomain.com
# NEXT_PUBLIC_APP_URL=https://yourdomain.com
# NODE_ENV=production
# REDIS_URL=redis://your-redis-url
# CSRF_PROTECTION=true
# CSRF_SECRET_KEY=your-strong-production-secret
# RATE_LIMIT_ENABLED=true
# SECURITY_HSTS=true
# SECURITY_CSP=true
# ANALYTICS_ENABLED=true
# ANALYTICS_STORAGE_TYPE=database
# ANALYTICS_MAX_EVENTS=50000
# R2_ACCOUNT_ID=your-production-r2-account-id
# R2_ACCESS_KEY_ID=your-production-r2-access-key
# R2_SECRET_ACCESS_KEY=your-production-r2-secret-key
# R2_BUCKET_NAME=your-production-bucket-name
# NEXT_PUBLIC_CDN_URL=https://your-cdn-domain.com

# =============================================================================
# USAGE NOTES
# =============================================================================
# 
# Development Setup:
# 1. Copy this file to .env.local
# 2. Start Supabase: pnpm supabase:start
# 3. Update Supabase URLs/keys from the output
# 4. For subdomain testing, add to /etc/hosts:
#    127.0.0.1 site1.localhost
#    127.0.0.1 site2.localhost
# 
# Production Setup:
# 1. Set the production overrides above in your hosting environment
# 2. Use strong, unique secrets for all _SECRET and _KEY variables
# 3. Enable security features (CSRF, HSTS, CSP, rate limiting)
# 4. Configure Redis for better performance
# 5. Enable analytics and monitoring
#
# Required Variables (minimum for app to work):
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY  
# - NEXT_PUBLIC_APP_DOMAIN
#
# All other variables are optional with sensible defaults.