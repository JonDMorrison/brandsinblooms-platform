# Brands in Blooms Platform - Local Development Configuration
# Copy this file to .env.local and update the values

# =============================================================================
# SUPABASE CONFIGURATION (Local Development)
# =============================================================================
# Get these from your local Supabase instance: pnpm supabase:start
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-local-anon-key-from-supabase-start
SUPABASE_SERVICE_ROLE_KEY=your-local-service-role-key-from-supabase-start

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
# Primary domain for the platform
NEXT_PUBLIC_APP_DOMAIN=localhost:3001

# Subdomain suffix (use localhost for local development)
NEXT_PUBLIC_SUBDOMAIN_SUFFIX=.localhost:3001

# =============================================================================
# REDIS CONFIGURATION (Optional - defaults to memory cache if not configured)
# =============================================================================
# Redis connection string (optional for local dev - will use memory fallback)
# REDIS_URL=redis://localhost:6379

# Redis configuration (only needed if using Redis locally)
# REDIS_MAX_RETRIES=3
# REDIS_RETRY_DELAY=1000
# REDIS_KEY_PREFIX=site:
# REDIS_FALLBACK_MEMORY=true

# =============================================================================
# SECURITY CONFIGURATION (Development Defaults)
# =============================================================================
# CSRF protection (disabled in development)
CSRF_PROTECTION=false

# CORS configuration for local development
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3001,http://127.0.0.1:3001
CORS_ALLOW_CREDENTIALS=true

# Rate limiting (disabled in development)
RATE_LIMIT_ENABLED=false

# =============================================================================
# ANALYTICS AND MONITORING (Development)
# =============================================================================
# Analytics (optional in development)
ANALYTICS_ENABLED=false
ANALYTICS_STORAGE_TYPE=memory
ANALYTICS_MAX_EVENTS=1000

# =============================================================================
# DEVELOPMENT UTILITIES
# =============================================================================
# Enable development features
NODE_ENV=development

# Next.js development settings
NEXT_TELEMETRY_DISABLED=1

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Test database URL (if different from main)
# TEST_SUPABASE_URL=http://127.0.0.1:54321
# TEST_SUPABASE_ANON_KEY=your-test-anon-key

# =============================================================================
# NOTES FOR LOCAL DEVELOPMENT
# =============================================================================
# 1. Start local Supabase: pnpm supabase:start
# 2. Copy the URLs and keys from the output
# 3. For subdomain testing, add entries to /etc/hosts:
#    127.0.0.1 coffee.localhost
#    127.0.0.1 bakery.localhost
# 4. Access sites at: http://coffee.localhost:3001
# 5. Redis is optional - app will use memory cache as fallback