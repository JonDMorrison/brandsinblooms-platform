# Brands in Blooms Platform - Production Configuration
# Use Railway's environment variable management to set these values

# =============================================================================
# SUPABASE CONFIGURATION (Production)
# =============================================================================
# Get these from your Supabase project dashboard
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-production-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-production-service-role-key

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
# Primary domain for the platform (your custom domain)
NEXT_PUBLIC_APP_DOMAIN=blooms.cc

# Subdomain suffix for site routing
NEXT_PUBLIC_SUBDOMAIN_SUFFIX=.blooms.cc

# =============================================================================
# REDIS CONFIGURATION (Production Caching)
# =============================================================================
# Redis connection string (Railway Redis addon or external Redis service)
REDIS_URL=redis://default:password@redis-hostname:6379

# Redis configuration for production
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_KEY_PREFIX=site:
REDIS_FALLBACK_MEMORY=true

# =============================================================================
# SECURITY CONFIGURATION (Production)
# =============================================================================
# CSRF protection (enabled in production)
CSRF_PROTECTION=true
CSRF_SECRET_KEY=your-strong-csrf-secret-key-here

# CORS configuration for production
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=https://blooms.cc,https://*.blooms.cc
CORS_ALLOW_CREDENTIALS=false

# Rate limiting (enabled in production)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# ANALYTICS AND MONITORING (Production)
# =============================================================================
# Analytics tracking
ANALYTICS_ENABLED=true
ANALYTICS_STORAGE_TYPE=database
ANALYTICS_MAX_EVENTS=50000

# =============================================================================
# RAILWAY DEPLOYMENT CONFIGURATION
# =============================================================================
# Production environment
NODE_ENV=production

# Railway specific settings
PORT=$PORT
RAILWAY_STATIC_URL=$RAILWAY_STATIC_URL
RAILWAY_PUBLIC_DOMAIN=$RAILWAY_PUBLIC_DOMAIN

# =============================================================================
# DATABASE AND STORAGE (Supabase)
# =============================================================================
# File storage configuration (using Supabase Storage)
NEXT_PUBLIC_SUPABASE_STORAGE_URL=https://your-project.supabase.co/storage/v1
SUPABASE_STORAGE_BUCKET=site-assets

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
# Cron job authentication
CRON_SECRET=your-secure-cron-secret

# Deployment region (Railway regions: us-west1, us-east4, europe-west4)
RAILWAY_REGION=us-west1

# =============================================================================
# SSL AND DOMAIN CONFIGURATION
# =============================================================================
# Enable secure cookies and headers
SECURE_COOKIES=true
FORCE_HTTPS=true

# Domain verification settings
DOMAIN_VERIFICATION_ENABLED=true
DOMAIN_VERIFICATION_TTL=300

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================
# Cache TTL settings (in seconds)
SITE_CACHE_TTL=300
STATIC_CACHE_TTL=86400
API_CACHE_TTL=60

# CDN configuration (if using a CDN)
# CDN_URL=https://cdn.blooms.cc
# CDN_ENABLED=true

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Error tracking
ERROR_TRACKING_ENABLED=true

# Performance monitoring
PERFORMANCE_MONITORING=true

# Database connection pooling
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# 1. Set up wildcard DNS: *.blooms.cc -> Railway deployment
# 2. Configure SSL for wildcard domains
# 3. Add Redis addon in Railway for caching
# 4. Configure Supabase Storage buckets for file uploads
# 5. Set up domain verification workflow
# 6. Enable Railway's built-in monitoring
# 7. Configure backup strategies for Redis and Supabase